{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Мои курсы</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');
    * {
        font-family: "Montserrat", serif;
    }

    /* Использование Flexbox для основного контента */
    .main-content {
        margin-left: 300px; /* отступ для основного контента */
        padding-top: 20px;
    }
</style>
<body>

    <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 280px; height: 100vh; position: fixed; top: 0; left: 0;">
        <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
            <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"></use></svg>
            <span class="fs-4">New Skills</span>
        </a>
        <hr>
        <ul class="nav nav-pills flex-column mb-auto">

            <li class="nav-item">
                <a href="{% url 'course_list' %}" class="nav-link link-dark" aria-current="page">
                    <svg class="bi me-2" width="16" height="16"><use xlink:href="#home"></use></svg>
                    Все курсы
                </a>
            </li>
            <li>
                <a href="https://t.me/qnelich" class="nav-link link-dark">
                    <svg class="bi me-2" width="16" height="16"><use xlink:href="#grid"></use></svg>
                    Поддержка
                </a>
            </li>

            {% if user.is_authenticated %}
            <li>
                <a href="{% url 'mycourses' %}" class="nav-link active link-dark" style="background-color: black; color: white;">
                    <svg class="bi me-2" width="16" height="16"><use xlink:href="#speedometer2"></use></svg>
                    Мои курсы
                </a>
            </li>
            <li>
                <a href="{% url 'profile' %}" class="nav-link link-dark">
                    <svg class="bi me-2" width="16" height="16"><use xlink:href="#table"></use></svg>
                    Мой профиль
                </a>
            </li>

            <li>
                <a href="{% url 'logout' %}" class="nav-link link-dark">
                    <svg class="bi me-2" width="16" height="16"><use xlink:href="#people-circle"></use></svg>
                    Выйти
                </a>
            </li>
            {% else %}

            <li>
                <a href="{% url 'login' %}" class="nav-link link-dark">
                    <svg class="bi me-2" width="16" height="16"><use xlink:href="#person"></use></svg>
                    Войти
                </a>
            </li>
            <li>
                <a href="{% url 'register' %}" class="nav-link link-dark">
                    <svg class="bi me-2" width="16" height="16"><use xlink:href="#person-add"></use></svg>
                    Зарегистрироваться
                </a>
            </li>
            {% endif %}
        </ul>
    </div>



<div class="main-content container">

    <h2>Мои курсы</h2>
    <hr>


    <div class="row row-cols-2 row-cols-md-4 g-4">
        {% for course in user_courses %}

        <div class="col">
            <div class="card" style="width: 250px;">
                {% if course.image %}
                <img src="{{ course.image.url }}" class="card-img-top" alt="Картинка курса">
                {% else %}
                <img src="{% static 'img/default-course.jpg' %}" class="card-img-top" alt="Картинка курса">
                {% endif %}
                <div class="card-body">
                    <h6 class="card-title"><b>{{ course.title }}</b></h6>
                    <p class="card-text" style="font-size: 13px;">{{ course.description|slice:":100" }}...</p>
                    <a href="{% url 'course_details' course.id %}" class="btn btn-dark">Подробнее</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
</body>
</html>